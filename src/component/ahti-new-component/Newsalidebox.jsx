import React, { useState } from "react";
import "slick-carousel/slick/slick.css";
import "slick-carousel/slick/slick-theme.css";
import Slider from "react-slick";
import { useSelector } from "react-redux";
import hel1 from "../../assets/salide.png";
import hel from "../../assets/Frame 114.png";

const Newsalidebox = ({JobData}) => {

 console.log(JobData,"popp")
   
 const [isExpanded, setIsExpanded] = useState(false);

 const toggleText = () => {
   setIsExpanded(!isExpanded);
 };


  const settings = {
    dots: true,
    infinite: false,
    speed: 500,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 20000,
  };


  const formatTime1 = (timeString) => {
    const [hours, minutes] = timeString.split(":");
    const hour = parseInt(hours, 10);
    const minute = parseInt(minutes, 10);
    const suffix = hour >= 12 ? "PM" : "AM";
    const formattedHour = hour % 12 || 12;
    return `${formattedHour}:${minute < 10 ? "0" + minute : minute} ${suffix}`;
  };
  
  const DateFormatCustom = (date) => {
    let x = date;
  
    const month = [
      "ts",
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December",
    ];
  
    const mm = x.split("-")[1];
  
    const yy = x.split("-")[0];
  
    const dd = x.split("-")[2];
  
    const y = mm[0].includes("0") ? mm.split("0")[1] : mm;
  
    // console.log(y)
  
    const  final_date= month[y]+" "+ dd+" "+ yy
  
    return final_date;
  
    // console.log(dd,month[y],yy)
  };



  return (
    <>

      <div className="Plumbing-Maintainance-section">
        <div className="Plumbing-Maintainance-main">
          <div className="Plumbing-Maintainance-box">
            <div className="Plumbing-Maintainance-tital-box">
            <div className="Plumbing-Maintainance-heading">
              <h2>{JobData && JobData[0]?.selected_queries}</h2>
              <div className="p-btn-flex-box">

            
              <p className={isExpanded ? '' : 'limited-text'}>
                {JobData && JobData[0]?.details}
              </p>
              <button onClick={toggleText} className="read-more-btn">
                {isExpanded ? 'Read Less' : 'Read More'}
              </button>
              </div>
            </div>

              <div className="Plumbing-Maintainance-span-box">
                <div className="Plumbing-Maintainance-loction">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M7.29297 8.33333C7.29297 7.61504 7.57831 6.92616 8.08622 6.41825C8.59413 5.91034 9.28301 5.625 10.0013 5.625C10.7196 5.625 11.4085 5.91034 11.9164 6.41825C12.4243 6.92616 12.7096 7.61504 12.7096 8.33333C12.7096 9.05163 12.4243 9.7405 11.9164 10.2484C11.4085 10.7563 10.7196 11.0417 10.0013 11.0417C9.28301 11.0417 8.59413 10.7563 8.08622 10.2484C7.57831 9.7405 7.29297 9.05163 7.29297 8.33333Z" fill="#002758" fill-opacity="0.9" />
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.1456 7.3975C3.28384 5.72215 4.04697 4.16003 5.2835 3.02121C6.52003 1.8824 8.13956 1.25016 9.8206 1.25H10.1806C11.8616 1.25016 13.4812 1.8824 14.7177 3.02121C15.9542 4.16003 16.7174 5.72215 16.8556 7.3975C17.01 9.26791 16.4325 11.1253 15.2448 12.5783L11.2506 17.4633C11.0992 17.6486 10.9085 17.7979 10.6923 17.9005C10.4762 18.003 10.2399 18.0562 10.0006 18.0562C9.76133 18.0562 9.52505 18.003 9.30886 17.9005C9.09268 17.7979 8.90199 17.6486 8.7506 17.4633L4.75727 12.5783C3.56919 11.1254 2.9914 9.26802 3.1456 7.3975ZM10.0006 4.375C8.95079 4.375 7.94397 4.79204 7.20164 5.53437C6.45931 6.2767 6.04227 7.28352 6.04227 8.33333C6.04227 9.38315 6.45931 10.39 7.20164 11.1323C7.94397 11.8746 8.95079 12.2917 10.0006 12.2917C11.0504 12.2917 12.0572 11.8746 12.7996 11.1323C13.5419 10.39 13.9589 9.38315 13.9589 8.33333C13.9589 7.28352 13.5419 6.2767 12.7996 5.53437C12.0572 4.79204 11.0504 4.375 10.0006 4.375Z" fill="#002758" fill-opacity="0.9" />
                  </svg>

                  <p>{JobData&&JobData[0]?.location}</p>
                </div>


<div className="main-time-list-box">
  

                  <h2>Availability :  </h2>


{
  JobData&&(JobData[0]?.amount=='' || JobData[0]?.amount=='T,,' && JobData[0]?.emergency !='emergency' ) && JobData[0]?.availablity_times?.map((e,i)=>(

    <div className="Plumbing-Maintainance-icon-box">

    <span>

<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
<path d="M19.5 3.1875H17.0625V2.25C17.0625 2.10082 17.0032 1.95774 16.8977 1.85225C16.7923 1.74676 16.6492 1.6875 16.5 1.6875C16.3508 1.6875 16.2077 1.74676 16.1023 1.85225C15.9968 1.95774 15.9375 2.10082 15.9375 2.25V3.1875H8.0625V2.25C8.0625 2.10082 8.00324 1.95774 7.89775 1.85225C7.79226 1.74676 7.64918 1.6875 7.5 1.6875C7.35082 1.6875 7.20774 1.74676 7.10225 1.85225C6.99676 1.95774 6.9375 2.10082 6.9375 2.25V3.1875H4.5C4.1519 3.1875 3.81806 3.32578 3.57192 3.57192C3.32578 3.81806 3.1875 4.1519 3.1875 4.5V19.5C3.1875 19.8481 3.32578 20.1819 3.57192 20.4281C3.81806 20.6742 4.1519 20.8125 4.5 20.8125H19.5C19.8481 20.8125 20.1819 20.6742 20.4281 20.4281C20.6742 20.1819 20.8125 19.8481 20.8125 19.5V4.5C20.8125 4.1519 20.6742 3.81806 20.4281 3.57192C20.1819 3.32578 19.8481 3.1875 19.5 3.1875ZM4.5 4.3125H6.9375V5.25C6.9375 5.39918 6.99676 5.54226 7.10225 5.64775C7.20774 5.75324 7.35082 5.8125 7.5 5.8125C7.64918 5.8125 7.79226 5.75324 7.89775 5.64775C8.00324 5.54226 8.0625 5.39918 8.0625 5.25V4.3125H15.9375V5.25C15.9375 5.39918 15.9968 5.54226 16.1023 5.64775C16.2077 5.75324 16.3508 5.8125 16.5 5.8125C16.6492 5.8125 16.7923 5.75324 16.8977 5.64775C17.0032 5.54226 17.0625 5.39918 17.0625 5.25V4.3125H19.5C19.5497 4.3125 19.5974 4.33225 19.6326 4.36742C19.6677 4.40258 19.6875 4.45027 19.6875 4.5V7.6875H4.3125V4.5C4.3125 4.45027 4.33225 4.40258 4.36742 4.36742C4.40258 4.33225 4.45027 4.3125 4.5 4.3125ZM19.5 19.6875H4.5C4.45027 19.6875 4.40258 19.6677 4.36742 19.6326C4.33225 19.5974 4.3125 19.5497 4.3125 19.5V8.8125H19.6875V19.5C19.6875 19.5497 19.6677 19.5974 19.6326 19.6326C19.5974 19.6677 19.5497 19.6875 19.5 19.6875ZM10.3125 11.25V17.25C10.3125 17.3992 10.2532 17.5423 10.1477 17.6477C10.0423 17.7532 9.89918 17.8125 9.75 17.8125C9.60082 17.8125 9.45774 17.7532 9.35225 17.6477C9.24676 17.5423 9.1875 17.3992 9.1875 17.25V12.1603L8.50125 12.5034C8.43514 12.5364 8.36317 12.5561 8.28947 12.5613C8.21576 12.5664 8.14176 12.5571 8.07168 12.5336C8.0016 12.5102 7.93682 12.4732 7.88103 12.4248C7.82525 12.3763 7.77956 12.3174 7.74656 12.2512C7.71357 12.1851 7.69392 12.1132 7.68874 12.0395C7.68355 11.9658 7.69294 11.8918 7.71636 11.8217C7.73977 11.7516 7.77676 11.6868 7.82522 11.631C7.87367 11.5753 7.93264 11.5296 7.99875 11.4966L9.49875 10.7466C9.58452 10.7037 9.67982 10.6836 9.77558 10.6879C9.87135 10.6923 9.96442 10.721 10.0459 10.7715C10.1275 10.8219 10.1948 10.8923 10.2414 10.9761C10.2881 11.0598 10.3125 11.1541 10.3125 11.25ZM15.8972 13.9922L13.875 16.6875H15.75C15.8992 16.6875 16.0423 16.7468 16.1477 16.8523C16.2532 16.9577 16.3125 17.1008 16.3125 17.25C16.3125 17.3992 16.2532 17.5423 16.1477 17.6477C16.0423 17.7532 15.8992 17.8125 15.75 17.8125H12.75C12.6455 17.8125 12.5431 17.7834 12.4543 17.7285C12.3654 17.6736 12.2936 17.595 12.2469 17.5016C12.2002 17.4081 12.1804 17.3035 12.1898 17.1995C12.1992 17.0954 12.2373 16.9961 12.3 16.9125L15 13.3125C15.0777 13.2103 15.1337 13.0933 15.1643 12.9686C15.195 12.844 15.1997 12.7143 15.1782 12.5878C15.1568 12.4612 15.1095 12.3404 15.0394 12.2329C14.9693 12.1253 14.8779 12.0333 14.7708 11.9625C14.6636 11.8918 14.5431 11.8437 14.4167 11.8215C14.2903 11.7992 14.1606 11.8031 14.0358 11.833C13.9109 11.8629 13.7935 11.9181 13.6909 11.9952C13.5882 12.0723 13.5025 12.1697 13.4391 12.2812C13.4055 12.3512 13.3579 12.4134 13.2991 12.4641C13.2404 12.5147 13.1718 12.5527 13.0976 12.5755C13.0235 12.5984 12.9455 12.6056 12.8684 12.5969C12.7913 12.5881 12.7169 12.5635 12.6498 12.5246C12.5827 12.4857 12.5243 12.4334 12.4784 12.3708C12.4325 12.3083 12.4001 12.237 12.3831 12.1613C12.3661 12.0856 12.3649 12.0072 12.3796 11.9311C12.3944 11.8549 12.4247 11.7826 12.4688 11.7188C12.6101 11.4761 12.7996 11.2648 13.0255 11.0979C13.2514 10.931 13.509 10.8121 13.7825 10.7483C14.056 10.6845 14.3397 10.6772 14.6161 10.7269C14.8925 10.7767 15.1559 10.8823 15.39 11.0374C15.6242 11.1926 15.8242 11.3939 15.9777 11.629C16.1313 11.8642 16.2353 12.1282 16.2832 12.4049C16.3311 12.6817 16.322 12.9653 16.2565 13.2384C16.1909 13.5115 16.0702 13.7683 15.9019 13.9931L15.8972 13.9922Z" fill="#002758" fill-opacity="0.9" />
</svg>
{e?.date && DateFormatCustom(e?.date)}
</span>
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M11.9976 6.80739C11.9976 6.65438 11.9368 6.50764 11.8286 6.39945C11.7204 6.29125 11.5737 6.23047 11.4207 6.23047C11.2677 6.23047 11.1209 6.29125 11.0127 6.39945C10.9045 6.50764 10.8438 6.65438 10.8438 6.80739V13.1535C10.8438 13.2552 10.8707 13.3551 10.9218 13.4431C10.9728 13.531 11.0462 13.6039 11.1345 13.6543L15.173 15.962C15.3055 16.0336 15.4608 16.0506 15.6057 16.0092C15.7505 15.9679 15.8734 15.8715 15.9482 15.7407C16.0229 15.6099 16.0435 15.4551 16.0056 15.3093C15.9677 15.1635 15.8743 15.0383 15.7453 14.9605L11.9976 12.8189V6.80739Z" fill="#002758" fill-opacity="0.9" />
          <path d="M12.0003 21.2306C14.4485 21.2306 16.7963 20.2581 18.5274 18.527C20.2585 16.7958 21.2311 14.448 21.2311 11.9998C21.2311 9.55166 20.2585 7.20378 18.5274 5.47267C16.7963 3.74157 14.4485 2.76904 12.0003 2.76904C9.55215 2.76904 7.20427 3.74157 5.47316 5.47267C3.74206 7.20378 2.76953 9.55166 2.76953 11.9998C2.76953 14.448 3.74206 16.7958 5.47316 18.527C7.20427 20.2581 9.55215 21.2306 12.0003 21.2306ZM20.0772 11.9998C20.0772 14.1419 19.2263 16.1963 17.7115 17.7111C16.1968 19.2258 14.1424 20.0767 12.0003 20.0767C9.85817 20.0767 7.80377 19.2258 6.28905 17.7111C4.77434 16.1963 3.92338 14.1419 3.92338 11.9998C3.92338 9.85768 4.77434 7.80328 6.28905 6.28857C7.80377 4.77385 9.85817 3.92289 12.0003 3.92289C14.1424 3.92289 16.1968 4.77385 17.7115 6.28857C19.2263 7.80328 20.0772 9.85768 20.0772 11.9998Z" fill="#002758" fill-opacity="0.9" />
        </svg>
        {e?.times && formatTime1(e?.times[0])}
        
        
        </span>


    
    </div>


  ))
}


{

JobData&&(JobData[0]?.emergency =='emergency' ) &&

<>


<p>
Emergency

</p>

<p>

Note:  {
    JobData&&JobData[0]?.note
  }

</p>

</>

}





{
  JobData&&(JobData[0]?.amount!='' && JobData[0]?.amount!='T,,') &&  

    <div className="Plumbing-Maintainance-icon-box">

    <span>

<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
<path d="M19.5 3.1875H17.0625V2.25C17.0625 2.10082 17.0032 1.95774 16.8977 1.85225C16.7923 1.74676 16.6492 1.6875 16.5 1.6875C16.3508 1.6875 16.2077 1.74676 16.1023 1.85225C15.9968 1.95774 15.9375 2.10082 15.9375 2.25V3.1875H8.0625V2.25C8.0625 2.10082 8.00324 1.95774 7.89775 1.85225C7.79226 1.74676 7.64918 1.6875 7.5 1.6875C7.35082 1.6875 7.20774 1.74676 7.10225 1.85225C6.99676 1.95774 6.9375 2.10082 6.9375 2.25V3.1875H4.5C4.1519 3.1875 3.81806 3.32578 3.57192 3.57192C3.32578 3.81806 3.1875 4.1519 3.1875 4.5V19.5C3.1875 19.8481 3.32578 20.1819 3.57192 20.4281C3.81806 20.6742 4.1519 20.8125 4.5 20.8125H19.5C19.8481 20.8125 20.1819 20.6742 20.4281 20.4281C20.6742 20.1819 20.8125 19.8481 20.8125 19.5V4.5C20.8125 4.1519 20.6742 3.81806 20.4281 3.57192C20.1819 3.32578 19.8481 3.1875 19.5 3.1875ZM4.5 4.3125H6.9375V5.25C6.9375 5.39918 6.99676 5.54226 7.10225 5.64775C7.20774 5.75324 7.35082 5.8125 7.5 5.8125C7.64918 5.8125 7.79226 5.75324 7.89775 5.64775C8.00324 5.54226 8.0625 5.39918 8.0625 5.25V4.3125H15.9375V5.25C15.9375 5.39918 15.9968 5.54226 16.1023 5.64775C16.2077 5.75324 16.3508 5.8125 16.5 5.8125C16.6492 5.8125 16.7923 5.75324 16.8977 5.64775C17.0032 5.54226 17.0625 5.39918 17.0625 5.25V4.3125H19.5C19.5497 4.3125 19.5974 4.33225 19.6326 4.36742C19.6677 4.40258 19.6875 4.45027 19.6875 4.5V7.6875H4.3125V4.5C4.3125 4.45027 4.33225 4.40258 4.36742 4.36742C4.40258 4.33225 4.45027 4.3125 4.5 4.3125ZM19.5 19.6875H4.5C4.45027 19.6875 4.40258 19.6677 4.36742 19.6326C4.33225 19.5974 4.3125 19.5497 4.3125 19.5V8.8125H19.6875V19.5C19.6875 19.5497 19.6677 19.5974 19.6326 19.6326C19.5974 19.6677 19.5497 19.6875 19.5 19.6875ZM10.3125 11.25V17.25C10.3125 17.3992 10.2532 17.5423 10.1477 17.6477C10.0423 17.7532 9.89918 17.8125 9.75 17.8125C9.60082 17.8125 9.45774 17.7532 9.35225 17.6477C9.24676 17.5423 9.1875 17.3992 9.1875 17.25V12.1603L8.50125 12.5034C8.43514 12.5364 8.36317 12.5561 8.28947 12.5613C8.21576 12.5664 8.14176 12.5571 8.07168 12.5336C8.0016 12.5102 7.93682 12.4732 7.88103 12.4248C7.82525 12.3763 7.77956 12.3174 7.74656 12.2512C7.71357 12.1851 7.69392 12.1132 7.68874 12.0395C7.68355 11.9658 7.69294 11.8918 7.71636 11.8217C7.73977 11.7516 7.77676 11.6868 7.82522 11.631C7.87367 11.5753 7.93264 11.5296 7.99875 11.4966L9.49875 10.7466C9.58452 10.7037 9.67982 10.6836 9.77558 10.6879C9.87135 10.6923 9.96442 10.721 10.0459 10.7715C10.1275 10.8219 10.1948 10.8923 10.2414 10.9761C10.2881 11.0598 10.3125 11.1541 10.3125 11.25ZM15.8972 13.9922L13.875 16.6875H15.75C15.8992 16.6875 16.0423 16.7468 16.1477 16.8523C16.2532 16.9577 16.3125 17.1008 16.3125 17.25C16.3125 17.3992 16.2532 17.5423 16.1477 17.6477C16.0423 17.7532 15.8992 17.8125 15.75 17.8125H12.75C12.6455 17.8125 12.5431 17.7834 12.4543 17.7285C12.3654 17.6736 12.2936 17.595 12.2469 17.5016C12.2002 17.4081 12.1804 17.3035 12.1898 17.1995C12.1992 17.0954 12.2373 16.9961 12.3 16.9125L15 13.3125C15.0777 13.2103 15.1337 13.0933 15.1643 12.9686C15.195 12.844 15.1997 12.7143 15.1782 12.5878C15.1568 12.4612 15.1095 12.3404 15.0394 12.2329C14.9693 12.1253 14.8779 12.0333 14.7708 11.9625C14.6636 11.8918 14.5431 11.8437 14.4167 11.8215C14.2903 11.7992 14.1606 11.8031 14.0358 11.833C13.9109 11.8629 13.7935 11.9181 13.6909 11.9952C13.5882 12.0723 13.5025 12.1697 13.4391 12.2812C13.4055 12.3512 13.3579 12.4134 13.2991 12.4641C13.2404 12.5147 13.1718 12.5527 13.0976 12.5755C13.0235 12.5984 12.9455 12.6056 12.8684 12.5969C12.7913 12.5881 12.7169 12.5635 12.6498 12.5246C12.5827 12.4857 12.5243 12.4334 12.4784 12.3708C12.4325 12.3083 12.4001 12.237 12.3831 12.1613C12.3661 12.0856 12.3649 12.0072 12.3796 11.9311C12.3944 11.8549 12.4247 11.7826 12.4688 11.7188C12.6101 11.4761 12.7996 11.2648 13.0255 11.0979C13.2514 10.931 13.509 10.8121 13.7825 10.7483C14.056 10.6845 14.3397 10.6772 14.6161 10.7269C14.8925 10.7767 15.1559 10.8823 15.39 11.0374C15.6242 11.1926 15.8242 11.3939 15.9777 11.629C16.1313 11.8642 16.2353 12.1282 16.2832 12.4049C16.3311 12.6817 16.322 12.9653 16.2565 13.2384C16.1909 13.5115 16.0702 13.7683 15.9019 13.9931L15.8972 13.9922Z" fill="#002758" fill-opacity="0.9" />
</svg>
{JobData[0]?.amount&& DateFormatCustom(JobData[0]?.amount.split('T')[0])}
</span>
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M11.9976 6.80739C11.9976 6.65438 11.9368 6.50764 11.8286 6.39945C11.7204 6.29125 11.5737 6.23047 11.4207 6.23047C11.2677 6.23047 11.1209 6.29125 11.0127 6.39945C10.9045 6.50764 10.8438 6.65438 10.8438 6.80739V13.1535C10.8438 13.2552 10.8707 13.3551 10.9218 13.4431C10.9728 13.531 11.0462 13.6039 11.1345 13.6543L15.173 15.962C15.3055 16.0336 15.4608 16.0506 15.6057 16.0092C15.7505 15.9679 15.8734 15.8715 15.9482 15.7407C16.0229 15.6099 16.0435 15.4551 16.0056 15.3093C15.9677 15.1635 15.8743 15.0383 15.7453 14.9605L11.9976 12.8189V6.80739Z" fill="#002758" fill-opacity="0.9" />
          <path d="M12.0003 21.2306C14.4485 21.2306 16.7963 20.2581 18.5274 18.527C20.2585 16.7958 21.2311 14.448 21.2311 11.9998C21.2311 9.55166 20.2585 7.20378 18.5274 5.47267C16.7963 3.74157 14.4485 2.76904 12.0003 2.76904C9.55215 2.76904 7.20427 3.74157 5.47316 5.47267C3.74206 7.20378 2.76953 9.55166 2.76953 11.9998C2.76953 14.448 3.74206 16.7958 5.47316 18.527C7.20427 20.2581 9.55215 21.2306 12.0003 21.2306ZM20.0772 11.9998C20.0772 14.1419 19.2263 16.1963 17.7115 17.7111C16.1968 19.2258 14.1424 20.0767 12.0003 20.0767C9.85817 20.0767 7.80377 19.2258 6.28905 17.7111C4.77434 16.1963 3.92338 14.1419 3.92338 11.9998C3.92338 9.85768 4.77434 7.80328 6.28905 6.28857C7.80377 4.77385 9.85817 3.92289 12.0003 3.92289C14.1424 3.92289 16.1968 4.77385 17.7115 6.28857C19.2263 7.80328 20.0772 9.85768 20.0772 11.9998Z" fill="#002758" fill-opacity="0.9" />
        </svg>
        {JobData[0]?.amount&& formatTime1(JobData[0]?.amount.split('T')[1])}
        
        
        </span>
        {/* ts */}


    
    </div>


  
}






               
                
                </div>

              </div>
            </div>

            <div className="Plumbing-Maintainance-imger-box">
          
      {/* <Slider {...settings} className="box-two">
        <div className="my-hell-box">
          <img src={hel} alt="Slide 1" />
        </div>
        <div className="my-hell-box">
          <img src={hel1} alt="Slide 2" />
        </div>
 

        <div className="my-hell-box">
          <img src={hel1} alt="Slide 2" />
        </div>
      </Slider> */}
      <Slider {...settings} className="box-two">
  {JobData&&  JobData[0]?.images!=null &&JobData[0]?.images.map((imageSrc, index) => (
    <div className="my-hell-box" key={index}>
      <img src={imageSrc} alt={`Slide ${index + 1}`} />
    </div>
  ))}
</Slider>
               </div>
          </div>
        </div>
      </div>
    </>
  );
};
export default Newsalidebox;
